{"version":3,"names":["_react","_interopRequireDefault","require","_message","_uikitUtils","_Box","_Icon","_PressBox","_Text","_createStyleSheet","_useUIKitTheme","_Avatar","_LoadingSpinner","obj","__esModule","default","MessageContainer","_ref","_props$strings","_props$strings2","children","channel","grouped","pressed","props","colors","useUIKitTheme","color","ui","openChannelMessage","renderSendingStatus","message","sendingStatus","SendingStatus","PENDING","createElement","SendingStatusContainer","primary","size","FAILED","icon","error","flexDirection","paddingVertical","paddingLeft","paddingRight","backgroundColor","background","enabled","marginRight","onPress","onPressAvatar","styles","avatar","width","uri","sender","profileUrl","style","flexShrink","flex","alignItems","marginBottom","caption1","ellipsizeMode","numberOfLines","isOperator","userId","textOperator","textSenderName","strings","senderName","nickname","caption4","textTime","sentDate","getMessageTimeFormat","Date","createdAt","_ref2","marginTop","createStyleSheet","_default","exports"],"sources":["MessageContainer.tsx"],"sourcesContent":["import React from 'react';\n\nimport { SendingStatus } from '@sendbird/chat/message';\nimport type { SendbirdMessage } from '@sendbird/uikit-utils';\nimport { getMessageTimeFormat } from '@sendbird/uikit-utils';\n\nimport Box from '../../components/Box';\nimport Icon from '../../components/Icon';\nimport PressBox from '../../components/PressBox';\nimport Text from '../../components/Text';\nimport createStyleSheet from '../../styles/createStyleSheet';\nimport useUIKitTheme from '../../theme/useUIKitTheme';\nimport Avatar from '../Avatar';\nimport LoadingSpinner from '../LoadingSpinner';\nimport type { OpenChannelMessageProps } from './index';\n\ntype Props = {\n  pressed?: boolean;\n};\n\nconst MessageContainer = ({\n  children,\n  channel,\n  grouped,\n  pressed,\n  ...props\n}: OpenChannelMessageProps<SendbirdMessage, Props>) => {\n  const { colors } = useUIKitTheme();\n  const color = colors.ui.openChannelMessage.default;\n\n  const renderSendingStatus = () => {\n    if (!('sendingStatus' in props.message)) return null;\n\n    switch (props.message.sendingStatus) {\n      case SendingStatus.PENDING: {\n        return (\n          <SendingStatusContainer>\n            <LoadingSpinner color={colors.primary} size={16} />\n          </SendingStatusContainer>\n        );\n      }\n      case SendingStatus.FAILED: {\n        return (\n          <SendingStatusContainer>\n            <Icon icon={'error'} color={colors.error} size={16} />\n          </SendingStatusContainer>\n        );\n      }\n      default: {\n        return null;\n      }\n    }\n  };\n\n  return (\n    <Box\n      flexDirection={'row'}\n      paddingVertical={grouped ? 5 : 6}\n      paddingLeft={12}\n      paddingRight={12}\n      backgroundColor={pressed ? color.pressed.background : color.enabled.background}\n    >\n      <Box marginRight={12}>\n        {!grouped && 'sender' in props.message ? (\n          <PressBox onPress={props.onPressAvatar}>\n            <Avatar size={styles.avatar.width} uri={props.message.sender.profileUrl} />\n          </PressBox>\n        ) : (\n          <Box style={styles.avatar} />\n        )}\n      </Box>\n      <Box flexShrink={1} flex={1} flexDirection={'column'} alignItems={'flex-start'}>\n        {!grouped && 'sender' in props.message && (\n          <Box flexDirection={'row'} alignItems={'center'} marginBottom={2}>\n            <Box marginRight={4} flexShrink={1}>\n              <Text\n                caption1\n                ellipsizeMode={'middle'}\n                numberOfLines={1}\n                color={\n                  channel.isOperator(props.message.sender.userId)\n                    ? color.enabled.textOperator\n                    : color.enabled.textSenderName\n                }\n              >\n                {props.strings?.senderName ?? props.message.sender.nickname}\n              </Text>\n            </Box>\n            <Box>\n              <Text caption4 color={color.enabled.textTime}>\n                {props.strings?.sentDate ?? getMessageTimeFormat(new Date(props.message.createdAt))}\n              </Text>\n            </Box>\n          </Box>\n        )}\n        <Box style={styles.message}>{children}</Box>\n\n        {renderSendingStatus()}\n      </Box>\n    </Box>\n  );\n};\n\nconst SendingStatusContainer = ({ children }: { children: React.ReactElement }) => {\n  return (\n    <Box flexDirection={'row'}>\n      <Box marginTop={2}>{children}</Box>\n    </Box>\n  );\n};\n\nconst styles = createStyleSheet({\n  avatar: {\n    width: 28,\n  },\n  message: {\n    width: '100%',\n  },\n});\n\nexport default MessageContainer;\n"],"mappings":"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"}